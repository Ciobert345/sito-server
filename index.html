<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Percepisci anche te i traumi di Manfredonia, entra nel server!">
    <link rel="shortcut icon" href="img/favicon.png" type="image/png">
    <link rel="icon" href="img/favicon.png" type="image/png">
    <title>Server Manfredonia</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mobile.css" media="(max-width: 768px)">
    <script src="js/config-manager.js"></script>

    <script>
        // Script di reindirizzamento per dispositivi mobili.
        // Viene eseguito immediatamente per evitare il caricamento della pagina desktop su mobile.
        (function() {
            // Funzione di rilevamento piÃ¹ robusta che controlla User Agent o dimensioni dello schermo.
            function isMobileDevice() {
                const isMobileUserAgent = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                // Usiamo screen.width perchÃ© Ã¨ piÃ¹ stabile di innerWidth al caricamento iniziale.
                const isSmallScreen = window.screen.width <= 768;
                return isMobileUserAgent || isSmallScreen;
            }

            // Se Ã¨ un dispositivo mobile, reindirizza subito usando replace()
            // per non salvare la pagina desktop nella cronologia di navigazione.
            if (isMobileDevice()) {
                window.location.replace('mobile.html');
            }
        })();
    </script>

</head>

<body>
    <!-- SFONDO MONOCROMATICO: Gradiente blu animato, elegante e soft -->
    <!-- (div .animated-gradient-bg rimosso, gradiente applicato a .background) -->
    <div id="info-banners"
        style="position: fixed; top: 120px; right: 20px; z-index: 1000; max-width: 380px;  backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);">
    </div>


    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <h1>Server Manfredonia</h1>
                <nav id="mainNav">
                    <ul id="mainNavLinks" class="nav-links">
                        <li><a href="index.html">Stato server</a></li>
                        <li><a href="section-informazioni.html">Informazioni</a></li>
                        <li><a href="section-modpack.html">Modpack</a></li>
                        <li><a href="updates.html">Aggiornamenti</a></li>
                        <li><a href="section-utilita.html">UtilitÃ </a></li>
                        <li><a href="dashboard.html">Dashboard</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    <div id="mobile-warning-overlay">
        <div class="mobile-warning-content">
            <h2>Accesso da Dispositivo Mobile Rilevato</h2>
            <p>Questo sito non Ã¨ ottimizzato per la visualizzazione su dispositivi mobili. Per un'esperienza ottimale,
                ti consigliamo di visitare il sito da un computer desktop.</p>
            <p>Se desideri comunque procedere, puoi richiedere la <strong>versione desktop del sito</strong> tramite le
                impostazioni del tuo browser.</p>
        </div>
    </div>
    <div id="fireworks-container"></div>
    <div class="background">

    </div>

    <!-- Aggiunta: Layers parallasse per lo sfondo -->
    <div class="parallax-bg">
        <div class="parallax-layer parallax-layer-1"></div>
        <div class="parallax-layer parallax-layer-2"></div>
        <div class="parallax-layer parallax-layer-3"></div>
    </div>
    <div class="particles" id="particles"></div>
    <div class="stars"></div>


    <!-- Sezione Timer per il lancio del server -->
    <section id="launch" class="countdown-section" style="margin-top: 0px;">
        <div class="container">
            <h2 id="countdown-title" class="countdown-title" style="margin-top: 0px;">L'aggiornamento arriverÃ  tra</h2>
            <!-- COUNTDOWN_ANCHOR --><span id="countdown-anchor" style="display:none"></span>
            <div id="maintenance-warning" style="display:none">
                <div class="maintenance-box">
                    <span class="maintenance-title">ðŸš§ Il server Ã¨ in manutenzione ðŸš§</span>
                    <div id="maintenance-countdown-slot"></div>
                </div>
            </div>
            <div class="countdown-container" id="countdown">
                <div class="countdown-box">
                    <div class="countdown-value" id="countdown-days">00</div>
                    <div class="countdown-label">Giorni</div>
                </div>
                <div class="countdown-box">
                    <div class="countdown-value" id="countdown-hours">00</div>
                    <div class="countdown-label">Ore</div>
                </div>
                <div class="countdown-box">
                    <div class="countdown-value" id="countdown-minutes">00</div>
                    <div class="countdown-label">Minuti</div>
                </div>
                <div class="countdown-box">
                    <div class="countdown-value" id="countdown-seconds">00</div>
                    <div class="countdown-label">Secondi</div>
                </div>
            </div>

            <!-- in <body> -->
            <div id="update-notice-box" class="update-notice">
                <!-- ... layers ... -->
                <div class="update-notice-content">
                    <h3 class="update-notice-title"></h3>
                    <h4 class="update-notice-subtitle"></h4>
                    <span id="update-badge" class="update-notice-badge"></span>
                    <div class="update-notice-inner">
                        <div class="update-notice-message">
                            <div class="update-notice-features"></div>
                        </div>
                    </div>
                </div>
            </div>

            
            <div id="countdown-complete" style="display: none;">
                <div class="glass-card">
                    <div class="success-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10" />
                            <path d="M9 12l2 2l4-4" />
                        </svg>
                    </div>
                    <h3>L'aggiornamento Ã¨ arrivato!</h3>
                    <p>Il server Ã¨ ora disponibile e aggiornato.<br>Accedi subito e scopri tutte le novitÃ  nella sezione
                        aggiornamenti!</p>



                    <div style="margin: 30px 0 20px;">
                        <a href="https://github.com/sHaDow105off/Mod-server-Manfredonia" target="_blank"
                            class="github-button modern-github-btn">
                            <span class="github-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path
                                        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
                                    </path>
                                </svg>
                            </span>
                            <span class="button-text">Github del progetto</span>
                        </a>
                    </div>
                    <div
                        style="display: flex; justify-content: center; gap: 20px; margin: 30px auto 0; max-width: 95%; flex-wrap: wrap;">
                        <a href="#access" class="btn">
                            <span class="btn-glow"></span>
                            <span
                                style="display: inline-block; width: 100%; text-align: center; padding: 0 5px; line-height: 1.2;">Vai
                                alle<br>istruzioni</span>
                        </a>
                        <a href="updates.html" class="btn btn-secondary">
                            <span class="btn-glow"></span>
                            <span
                                style="display: inline-block; width: 100%; text-align: center; padding: 0 5px; line-height: 1.2;">Controlla<br>Aggiornamenti</span>
                        </a>
                    </div>
                </div>
            </div>

        </div>

    </section>

    <footer class="custom-footer-height">
        <div class="credits">Â© 2025 Server Manfredonia. Tutti i diritti riservati. Minecraft Ã¨ un marchio registrato di
            Mojang AB.</div>
    </footer>

    <script>
        console.log('[!!! SCRIPT BLOCK !!!] Esecuzione iniziata.');
        // Scroll automatico al timer al caricamento della pagina
        window.addEventListener('load', function () {
            const countdownSection = document.getElementById('launch');
            if (countdownSection) {
                countdownSection.scrollIntoView({ behavior: 'smooth' });
            }
        });

        // Funzione per gestire i banner informativi
        (function () {
            function closeBanner(banner) {
                banner.classList.add('minimized');
                banner.setAttribute('aria-expanded', 'false');
                const contentDiv = banner.querySelector('.banner-content');
                if (contentDiv) contentDiv.style.display = 'none';
            }

            document.addEventListener('click', function (e) {
                var btn = e.target.closest('.banner-close');
                if (btn) {
                    var banner = btn.closest('.info-banner');
                    if (banner) closeBanner(banner);
                }
            });
            document.addEventListener('keydown', function (e) {
                if ((e.key === 'Enter' || e.key === ' ') && document.activeElement.classList.contains('banner-close')) {
                    var banner = document.activeElement.closest('.info-banner');
                    if (banner) closeBanner(banner);
                }
            });
        })();

        document.addEventListener('DOMContentLoaded', function () {
            console.log('[Timer] DOMContentLoaded fired. Initializing scripts.');
            // 1. Animazione fade-in per le sezioni allo scroll
            const sections = document.querySelectorAll('.section-delay-1, .section-delay-2, .section-delay-3, .section-delay-4, .section-delay-5, .section-delay-intro');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target); // Stop observing once visible
                    }
                });
            }, { threshold: 0.15 });

            sections.forEach(section => {
                observer.observe(section);
            });

            // 2. Inizializzazione del ConfigManager per gestire il countdown e le notifiche
            if (typeof ConfigManager !== 'undefined') {
                console.log('[Timer] ConfigManager trovato. Inizializzazione...');
                ConfigManager.init();
            } else {
                console.error('[Timer] ConfigManager non trovato!');
            }

            // 3. Controllo per dispositivi mobili gestito in <head>
            // Se lo script arriva qui, significa che siamo su desktop, quindi nascondiamo l'overlay di avviso mobile.
            document.getElementById('mobile-warning-overlay').style.display = 'none';

            // Gestione menu mobile
            const mobileNavToggle = document.querySelector('.mobile-nav-toggle');
            const mainNavLinks = document.querySelector('#mainNavLinks');

            mobileNavToggle.addEventListener('click', () => {
                mainNavLinks.classList.toggle('active');
            });

            // 4. Creazione effetto particelle
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                particle.style.width = Math.random() * 3 + 'px';
                particle.style.height = particle.style.width;
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.opacity = Math.random() * 0.5 + 0.1;
                particle.style.animationDuration = Math.random() * 20 + 10 + 's';
                particle.style.animationDelay = Math.random() * 5 + 's';
                particlesContainer.appendChild(particle);
            }
        });

        // Script per effetto parallasse reattivo al mouse
        document.addEventListener('DOMContentLoaded', function () {
            const parallaxLayers = document.querySelectorAll('.parallax-layer');
            const parallaxBg = document.querySelector('.parallax-bg');

            // Effetto parallasse al movimento del mouse
            document.addEventListener('mousemove', function (e) {
                const x = e.clientX / window.innerWidth;
                const y = e.clientY / window.innerHeight;

                parallaxLayers.forEach((layer, index) => {
                    const speed = (index + 1) * 15;
                    const offsetX = (0.5 - x) * speed;
                    const offsetY = (0.5 - y) * speed;

                    layer.style.transform = `translate3d(${offsetX}px, ${offsetY}px, 0)`;
                });
            });

            // Effetto "respiro" per i layer
            function breatheEffect() {
                parallaxLayers.forEach((layer, index) => {
                    const scale = 1 + 0.05 * Math.sin(Date.now() / 3000 + index);
                    layer.style.transform = layer.style.transform.replace(/scale\([^)]*\)/, '') + ` scale(${scale})`;
                });

                requestAnimationFrame(breatheEffect);
            }

            breatheEffect();
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/tsparticles-preset-links@2/tsparticles.preset.links.min.js"></script>
    <script>
        // Inizializzazione tsParticles con effetti migliorati
        window.addEventListener('DOMContentLoaded', async function () {
            if (window.tsParticles) {
                await window.tsParticles.load("particles", {
                    fpsLimit: 60,
                    background: {
                        color: "transparent"
                    },
                    particles: {
                        number: {
                            value: 80,
                            density: { enable: true, area: 800 }
                        },
                        color: {
                            value: ["#ffd600", "#b56cff", "#3ecbff", "#6dff7b", "#ff6b6b"],
                            animation: {
                                enable: true,
                                speed: 10,
                                sync: false
                            }
                        },
                        shape: {
                            type: "circle"
                        },
                        opacity: {
                            value: 0.6,
                            random: true,
                            animation: {
                                enable: true,
                                speed: 1,
                                minimumValue: 0.1,
                                sync: false
                            }
                        },
                        size: {
                            value: { min: 1, max: 4 },
                            random: true,
                            animation: {
                                enable: true,
                                speed: 2,
                                minimumValue: 0.5,
                                sync: false
                            }
                        },
                        links: {
                            enable: true,
                            distance: 150,
                            color: "#ffffff",
                            opacity: 0.18,
                            width: 1.2,
                            triangles: {
                                enable: true,
                                opacity: 0.05
                            }
                        },
                        move: {
                            enable: true,
                            speed: 1.5,
                            direction: "none",
                            random: true,
                            straight: false,
                            outModes: "out",
                            attract: {
                                enable: true,
                                rotateX: 600,
                                rotateY: 1200
                            }
                        }
                    },
                    interactivity: {
                        detectsOn: "window",
                        events: {
                            onHover: {
                                enable: true,
                                mode: "grab"
                            },
                            onClick: {
                                enable: true,
                                mode: "push"
                            },
                            resize: true
                        },
                        modes: {
                            grab: {
                                distance: 180,
                                links: {
                                    opacity: 0.5
                                }
                            },
                            push: {
                                quantity: 4
                            }
                        }
                    },
                    detectRetina: true
                });
            }
        });
    </script>
    <!-- SFONDO MIGLIORATO: Gradiente animato, nebulose e texture -->
    <div class="animated-gradient-bg"></div>
    <div class="nebulae-bg">
        <div class="nebula nebula-1"></div>
        <div class="nebula nebula-2"></div>
        <div class="nebula nebula-3"></div>
    </div>
    <div class="texture-overlay"></div>
    <!-- Script particelle bianco/nero -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const particlesContainer = document.getElementById('particles');
            if (particlesContainer) {
                particlesContainer.innerHTML = '';
                for (let i = 0; i < 60; i++) {
                    const particle = document.createElement('div');
                    particle.classList.add('particle');
                    const size = Math.random() * 3 + 1;
                    particle.style.width = size + 'px';
                    particle.style.height = size + 'px';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.opacity = Math.random() * 0.7 + 0.2;
                    particle.style.background = Math.random() > 0.5 ? '#fff' : '#111';
                    particle.style.borderRadius = '50%';
                    particle.style.position = 'absolute';
                    particle.style.animation = `particleMoveBW ${10 + Math.random() * 20}s linear infinite`;
                    particle.style.animationDelay = (Math.random() * 10) + 's';
                    particlesContainer.appendChild(particle);
                }
            }
        });
    </script>
    <!-- Animazione particelle -->
    <style>
        @keyframes particleMoveBW {
            0% {
                transform: translateY(0) scale(1);
            }

            50% {
                transform: translateY(-40px) scale(1.2);
            }

            100% {
                transform: translateY(0) scale(1);
            }
        }
    </style>
</body>

</html>

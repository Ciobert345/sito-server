document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".hamburger-menu"),t=document.querySelector(".mobile-nav");e&&t&&(e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active")}),document.querySelectorAll(".mobile-nav a").forEach(o=>{o.addEventListener("click",()=>{e.classList.remove("active"),t.classList.remove("active")})}));const o=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),o.unobserve(e.target))})},{threshold:.1});document.querySelectorAll(".section-content, .hero-card, .countdown-card").forEach(e=>{e&&o.observe(e)}),document.querySelectorAll(".carousel-container").forEach(e=>{const t=e.querySelector(".carousel-slides"),o=e.querySelector(".carousel-prev"),c=e.querySelector(".carousel-next"),n=e.querySelector(".carousel-indicators");if(t&&o&&c&&n){const e=Array.from(t.querySelectorAll('img.carousel-slide'));if(0===e.length)return;let i=0;n.innerHTML="";for(let t=0;t<e.length;t++){const e=document.createElement("span");e.addEventListener("click",()=>l(t)),n.appendChild(e)}const s=Array.from(n.children);function a(){t.style.transform=`translateX(-${i*100}%)`,s.forEach((t,o)=>{t.classList.toggle("active",o===i)}),e.forEach((e,t)=>{e.classList.toggle("active",t===i)})}function l(e){i=e,a()}o.addEventListener("click",()=>{i=(i-1+e.length)%e.length,a()}),c.addEventListener("click",()=>{i=(i+1)%e.length,a()}),a()}});const c=document.getElementById("image-zoom-overlay"),n=document.querySelector(".carousel-slides");if(c&&n){const e=c.querySelector(".zoomed-img"),t=c.querySelector(".zoom-close"),o=c.querySelector(".zoom-reset");let i=1,s=1,a=0,l=0,d=0,r=0,u=!1,m=0;function h(){i=1,s=1,d=0,r=0,e.style.transform="",e.classList.remove("zoomed-in"),o&&(o.style.opacity=.85)}e&&t&&(n.addEventListener("click",function(t){const o=t.target.closest(".carousel-slide");o&&(e.src=o.src,c.classList.add("active"),h())}),t.addEventListener("click",()=>{c.classList.remove("active"),h()}),c.addEventListener("click",e=>{e.target===c&&(c.classList.remove("active"),h())}),e.addEventListener("dblclick",t=>{t.preventDefault(),1===i?(i=2.2,e.classList.add("zoomed-in")):(i=1,e.classList.remove("zoomed-in")),d=r=0,e.style.transform=`scale(${i})`}),e.addEventListener("touchend",t=>{const o=Date.now();0===t.touches.length&&o-m<300&&(1===i?(i=2.2,e.classList.add("zoomed-in")):(i=1,e.classList.remove("zoomed-in")),d=r=0,e.style.transform=`scale(${i})`),m=o}));let p=null,f=1;e.addEventListener("touchstart",t=>{2===t.touches.length?(p=Math.hypot(t.touches[0].clientX-t.touches[1].clientX,t.touches[0].clientY-t.touches[1].clientY),f=i):1===t.touches.length&&i>1&&(u=!0,a=t.touches[0].clientX-d,l=t.touches[0].clientY-r)}),e.addEventListener("touchmove",t=>{if(2===t.touches.length&&p){let o=f*Math.hypot(t.touches[0].clientX-t.touches[1].clientX,t.touches[0].clientY-t.touches[1].clientY)/p;o=Math.max(1,Math.min(o,4)),i=o,e.style.transform=`scale(${i}) translate(${d}px, ${r}px)`,i>1?e.classList.add("zoomed-in"):e.classList.remove("zoomed-in")}else 1===t.touches.length&&u&&i>1&&(d=t.touches[0].clientX-a,r=t.touches[0].clientY-l,e.style.transform=`scale(${i}) translate(${d}px, ${r}px)`)}),e.addEventListener("touchend",e=>{e.touches.length<2&&(p=null,f=i,u=!1)}),e.addEventListener("mousedown",t=>{1!==i&&(u=!0,a=t.clientX-d,l=t.clientY-r,e.style.cursor="grabbing")}),document.addEventListener("mousemove",t=>{u&&i>1&&(d=t.clientX-a,r=t.clientY-l,e.style.transform=`scale(${i}) translate(${d}px, ${r}px)`)}),document.addEventListener("mouseup",()=>{u=!1,e.style.cursor=i>1?"grab":""}),e.addEventListener("wheel",t=>{t.preventDefault();let o=t.deltaY<0?.15:-.15;i+=o,i=Math.max(1,Math.min(i,4)),e.style.transform=`scale(${i}) translate(${d}px, ${r}px)`,i>1?e.classList.add("zoomed-in"):e.classList.remove("zoomed-in")}),o&&o.addEventListener("click",()=>{h()})}const i=document.getElementById("accessForm");i&&i.addEventListener("submit",function(e){setTimeout(()=>{const e=document.getElementById("successMessage");e&&(e.style.display="block",e.scrollIntoView({behavior:"smooth",block:"center"}))},500)}),document.addEventListener("click",function(e){const t=e.target.closest(".info-banner");t&&t.classList.toggle("minimized")});document.addEventListener('touchmove',function(){},{passive:true});document.addEventListener('scroll',function(){},{passive:true});}); 
